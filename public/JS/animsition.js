/*
 * animsition v4.0.1
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a(require("jquery")) : a(jQuery) }(function (c) { var b = "animsition", a = { init: function (d) { d = c.extend({ inClass: "fade-in", outClass: "fade-out", inDuration: 1500, outDuration: 800, linkElement: ".animsition-link", loading: !0, loadingParentElement: "body", loadingClass: "animsition-loading", loadingInner: "", timeout: !1, timeoutCountdown: 5000, onLoadEvent: !0, browser: ["animation-duration", "-webkit-animation-duration"], overlay: !1, overlayClass: "animsition-overlay-slide", overlayParentElement: "body", transition: function (e) { window.location.href = e } }, d), a.settings = { timer: !1, data: { inClass: "animsition-in-class", inDuration: "animsition-in-duration", outClass: "animsition-out-class", outDuration: "animsition-out-duration", overlay: "animsition-overlay" }, events: { inStart: "animsition.inStart", inEnd: "animsition.inEnd", outStart: "animsition.outStart", outEnd: "animsition.outEnd" } }; var g = a.supportCheck.call(this, d); if (!g && d.browser.length > 0 && (!g || !this.length)) { return "console" in window || (window.console = {}, window.console.log = function (e) { return e }), this.length || console.log("Animsition: Element does not exist on page."), g || console.log("Animsition: Does not support this browser."), a.destroy.call(this) } var f = a.optionCheck.call(this, d); return f && a.addOverlay.call(this, d), d.loading && a.addLoading.call(this, d), this.each(function () { var j = this, h = c(this), m = c(window), k = c(document), i = h.data(b); i || (d = c.extend({}, d), h.data(b, { options: d }), d.timeout && a.addTimer.call(j), d.onLoadEvent && m.on("load." + b, function () { a.settings.timer && clearTimeout(a.settings.timer), a["in"].call(j) }), m.on("pageshow." + b, function (e) { e.originalEvent.persisted && a["in"].call(j) }), m.on("unload." + b, function () { }), k.on("click." + b, d.linkElement, function (p) { p.preventDefault(); var l = c(this), o = l.attr("href"); 2 === p.which || p.metaKey || p.shiftKey || -1 !== navigator.platform.toUpperCase().indexOf("WIN") && p.ctrlKey ? window.open(o, "_blank") : a.out.call(j, l, o) })) }) }, addOverlay: function (d) { c(d.overlayParentElement).prepend('<div class="' + d.overlayClass + '"></div>') }, addLoading: function (d) { c(d.loadingParentElement).append('<div class="' + d.loadingClass + '">' + d.loadingInner + "</div>") }, removeLoading: function () { var e = c(this), d = e.data(b).options, f = c(d.loadingParentElement).children("." + d.loadingClass); f.fadeOut().remove() }, addTimer: function () { var d = this, g = c(this), f = g.data(b).options; a.settings.timer = setTimeout(function () { a["in"].call(d), c(window).off("load." + b) }, f.timeoutCountdown) }, supportCheck: function (h) { var g = c(this), d = h.browser, j = d.length, f = !1; 0 === j && (f = !0); for (var k = 0; j > k; k++) { if ("string" == typeof g.css(d[k])) { f = !0; break } } return f }, optionCheck: function (e) { var d, f = c(this); return d = e.overlay || f.data(a.settings.data.overlay) ? !0 : !1 }, animationCheck: function (j, f, m) { var h = c(this), p = h.data(b).options, n = typeof j, k = !f && "number" === n, g = f && "string" === n && j.length > 0; return k || g ? j = j : f && m ? j = p.inClass : !f && m ? j = p.inDuration : f && !m ? j = p.outClass : f || m || (j = p.outDuration), j }, "in": function () { var f = this, k = c(this), i = k.data(b).options, n = k.data(a.settings.data.inDuration), m = k.data(a.settings.data.inClass), j = a.animationCheck.call(f, n, !1, !0), h = a.animationCheck.call(f, m, !0, !0), p = a.optionCheck.call(f, i), g = k.data(b).outClass; i.loading && a.removeLoading.call(f), g && k.removeClass(g), p ? a.inOverlay.call(f, h, j) : a.inDefault.call(f, h, j) }, inDefault: function (e, d) { var f = c(this); f.css({ "animation-duration": d + "ms" }).addClass(e).trigger(a.settings.events.inStart).animateCallback(function () { f.removeClass(e).css({ opacity: 1 }).trigger(a.settings.events.inEnd) }) }, inOverlay: function (d, g) { var f = c(this), h = f.data(b).options; f.css({ opacity: 1 }).trigger(a.settings.events.inStart), c(h.overlayParentElement).children("." + h.overlayClass).css({ "animation-duration": g + "ms" }).addClass(d).animateCallback(function () { f.trigger(a.settings.events.inEnd) }) }, out: function (i, y) { var n = this, A = c(this), z = A.data(b).options, w = i.data(a.settings.data.outClass), k = A.data(a.settings.data.outClass), B = i.data(a.settings.data.outDuration), j = A.data(a.settings.data.outDuration), x = w ? w : k, q = B ? B : j, p = a.animationCheck.call(n, x, !0, !1), C = a.animationCheck.call(n, q, !1, !1), t = a.optionCheck.call(n, z); A.data(b).outClass = p, t ? a.outOverlay.call(n, p, C, y) : a.outDefault.call(n, p, C, y) }, outDefault: function (d, g, f) { var i = c(this), h = i.data(b).options; i.css({ "animation-duration": g + 1 + "ms" }).addClass(d).trigger(a.settings.events.outStart).animateCallback(function () { i.trigger(a.settings.events.outEnd), h.transition(f) }) }, outOverlay: function (f, j, h) { var m = this, k = c(this), i = k.data(b).options, g = k.data(a.settings.data.inClass), n = a.animationCheck.call(m, g, !0, !0); c(i.overlayParentElement).children("." + i.overlayClass).css({ "animation-duration": j + 1 + "ms" }).removeClass(n).addClass(f).trigger(a.settings.events.outStart).animateCallback(function () { k.trigger(a.settings.events.outEnd), i.transition(h) }) }, destroy: function () { return this.each(function () { var d = c(this); c(window).off("." + b), d.css({ opacity: 1 }).removeData(b) }) } }; c.fn.animateCallback = function (e) { var d = "animationend webkitAnimationEnd"; return this.each(function () { var f = c(this); f.on(d, function () { return f.off(d), e.call(this) }) }) }, c.fn.animsition = function (d) { return a[d] ? a[d].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof d && d ? void c.error("Method " + d + " does not exist on jQuery." + b) : a.init.apply(this, arguments) } });